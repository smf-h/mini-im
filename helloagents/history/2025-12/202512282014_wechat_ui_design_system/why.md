# 变更提案：前端微信绿白视觉系统 + 组件化重构

## 背景与问题

当前前端页面样式以页面级零散 CSS 为主，存在以下问题：
- 视觉变量不完整：颜色、阴影、圆角、分割线等缺少统一 SSOT，导致不同页面质感不一致。
- 列表/表单组件重复实现：会话列表、好友申请列表、登录表单各自写布局与样式，复用性差。
- 交互细节不统一：Hover/Active/Focus/Disabled 等状态在各页面表现不同，影响整体体验。

## 目标与成功标准

目标：在不引入 UI 库的前提下，基于现有 `app.css` 扩展一套可复用的微信绿白风格视觉系统，并用少量微组件重构核心页面。

成功标准：
- 颜色/阴影/圆角/分割线等基础设计变量集中在 `app.css`，并有清晰的命名与覆盖范围。
- 登录页采用 Center-Stage 布局，输入框/按钮交互统一且具有“轻磨砂”质感。
- 会话列表改为通栏列表（Edge-to-Edge），包含头像、昵称、预览、时间、未读红点/数字，Hover 反馈一致。
- 好友申请页顶部改为 Segmented Control；列表行布局统一；操作按钮更轻量。
- 新增 `Avatar/Badge/ListItem/SegmentedControl` 微组件，后续页面可直接复用。

## 范围与非目标

范围内：
- 视觉变量系统与全局基础样式（`frontend/src/styles/app.css`）
- 登录页/会话列表/好友申请页重构（`frontend/src/views/*`）
- 微组件新增（`frontend/src/components/*`）

范围外（本期不做）：
- 引入第三方 UI 组件库
- 完整对齐微信所有动效细节（仅做风格与关键交互一致）
- 群聊/单聊页面大改（仅做必要的变量兼容）

## 风险与规避

- 风险：变量改动可能影响现有页面样式。
  - 规避：保留现有变量名兼容（如 `--bg/--primary/--border`），新增变量采用别名/映射方式，逐步迁移。
- 风险：组件抽象过度导致改动面过大。
  - 规避：组件保持“微组件”粒度，只覆盖布局与基础交互，不强绑定业务。

