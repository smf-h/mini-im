# 为什么要做（Why）

## 背景

当前后端已具备：
- WebSocket 单聊发送与 ACK 机制（`SINGLE_CHAT`）
- 好友申请落库与列表查询（`FRIEND_REQUEST` + HTTP cursor/list）

但仍缺少“面向用户”的核心体验链路：
- 缺少单聊会话列表（按更新时间排序，带最后一条消息）
- 缺少好友申请“同意/拒绝”，以及同意后自动创建单聊会话（`t_single_chat`）
- 现有前端只是联调控制台，不适合作为用户侧产品
- 好友申请测试脚本存在字符串匹配误判，需要修复

## 目标

1. 提供单聊会话列表（HTTP）：支持 cursor 与普通分页，按更新时间倒序，携带 lastMessage 与更新时间。
2. 提供好友申请处理（HTTP）：同意/拒绝；同意后创建好友关系与单聊会话（`t_single_chat`）。
3. 提供面向用户的 Vue 网站：登录、会话列表、聊天页、好友申请页、发起好友申请入口。
4. 修复 ws-smoke-test 的 friend_request 场景误判问题。

## 非目标（本次不做）

- 引入 `t_conversation` 独立会话表（当前 schema 中不存在该表）
- 好友申请处理改为 WebSocket（本次按需求使用 HTTP）
- 未读数、已读回执、多端同步与消息撤回等复杂能力

